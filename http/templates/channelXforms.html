<html>
  <title>Channel Transforms for {{ network }}</title>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flexboxgrid/6.3.1/flexboxgrid.min.css" type="text/css" >
    <style type="text/css">
      body {
        color: rgb(29, 251, 0);
        background-color: #111;
        padding: 1em;
      }
      table {
        width: 320px;
        font-family: monospace;
      }
      td {
        padding: 1em;
      }
      .msg {
        color: white;
      }
      .nick {
        color: cyan;
      }
      .theadrow {
        font-family: monospace;
        background-color: rgb(19, 19, 73);
      }
      th {
        padding: 0.4em;
      }
      #headerrow {
        color: white;
      }
    </style>
  </head>
  <body>
    <h3>Channel transforms for <kbd>{{ network }}</kbd></h3>

    <div class="container">
      <div class="row" id="headerrow">
        <div class="col-sm-1" style="text-align: right; text-decoration: underline;">Discord</div>
        <div class="col-sm-1" style="text-align: center;">➵</div>
        <div class="col-sm-1" style="text-decoration: underline;">IRC</div>
      </div>
    {{ #transforms }}
      <div class="row">
        <div class="col-sm-1" style="text-align: right; vertical-align: middle;">{{ discord }}</div>
        <div class="col-sm-1" style="text-align: center;">➵</div>
        <div class="col-sm-2">
          <input id="{{ id }}_input" class="small" type="text" value="#{{ irc }}" />
        </div>
        <div class="col-sm-1">
          <button id="{{ id }}_button" class="tertiary" class="small" disabled>OK</button>
        </div>
        <div class="col-sm-1">
          <button id="{{ id }}_reset" class="tertiary" class="small" disabled>Reset</button>
        </div>
      </div>
      <script>
        (() => {
          const eles = ['input', 'button', 'reset'].reduce((a, id) => ({ [id]: document.getElementById(`{{ id }}_${id}`), ...a }), {});
          const origVal = eles.input.value;
          const reset = () => {
            eles.input.value = origVal;
            eles.reset.disabled = eles.button.disabled = true;
          };

          eles.input.addEventListener('change', (e) => {
            if (eles.input.value.length) {
              eles.reset.disabled = eles.button.disabled = eles.input.value === origVal;
            } else {
              reset();
            }
          });

          eles.reset.addEventListener('click', reset);
        })();
      </script>
    {{ /transforms}}
    </div>
    
    <hr />
    
    This document was generated by <kbd>{{ NAME }}-v{{ VERSION }}</kbd> &amp;
    will self-destruct at <b>{{ documentExpiresAt }}</b> ({{ timezone }}).
  </body>
</html>